# KubeBeaver - environment variables (copy to .env and adjust)
# Usage: cp .env.example .env

# --- Kubernetes (local / Docker Compose) ---
# Path to kubeconfig on host (compose mounts it at /tmp/kubeconfig in backend)
# Example: /Users/your-user/.kube/config or $HOME/.kube/config
KUBECONFIG=

# --- LLM ---
# Provider: groq | openai_compatible
LLM_PROVIDER=openai_compatible

# Groq (when LLM_PROVIDER=groq)
GROQ_API_KEY=
GROQ_MODEL=llama-3.1-8b-instant

# OpenAI-compatible: Ollama, Exo, OpenAI, etc.
# Local: http://localhost:11434/v1
# Backend in Docker + Ollama on host: use host.docker.internal and run Ollama with OLLAMA_HOST=0.0.0.0
OPENAI_BASE_URL=http://host.docker.internal:11434/v1
OPENAI_API_KEY=
OPENAI_MODEL=llama3.2

# --- Limits (optional) ---
REQUEST_TIMEOUT=120
MAX_EVIDENCE_CHARS=60000
# Max chars sent to LLM for compare (diff + minimal context)
# MAX_COMPARE_CHARS=8000

# --- Scan (optional) ---
# SCAN_MAX_FINDINGS=200
# SCAN_PENDING_MINUTES=5

# --- In-cluster (only when running inside Kubernetes) ---
# IN_CLUSTER=false

# --- History / Database (backend) ---
# SQLite (default): set HISTORY_DB_PATH
# HISTORY_DB_PATH=data/kubebeaver.db

# MySQL/Postgres (optional): set DATABASE_URL to use external database
# MySQL: mysql+aiomysql://user:password@host:3306/database
# Postgres: postgresql+asyncpg://user:password@host:5432/database
# DATABASE_URL=

# When running Alembic on the host (e.g. migrations), if DATABASE_URL uses Docker hostname "mysql",
# set ALEMBIC_DATABASE_URL to the same URL with localhost (and host port, e.g. 33064):
# ALEMBIC_DATABASE_URL=mysql+pymysql://kubebeaver:kubebeaver@localhost:33064/kubebeaver

# MySQL service (started by default with docker compose up). Exposed on host as port 33064.
# MYSQL_ROOT_PASSWORD=kubebeaver
# MYSQL_DATABASE=kubebeaver
# MYSQL_USER=kubebeaver
# MYSQL_PASSWORD=kubebeaver

# --- Redis cache (optional: leave empty to disable) ---
# REDIS_URL=redis://localhost:6379/0
# CACHE_TTL_CONTEXTS=60
# CACHE_TTL_NAMESPACES=60
# CACHE_TTL_RESOURCES=30
# CACHE_TTL_ANALYZE=300
